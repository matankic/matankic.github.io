<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap&family=Noto+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning to See Inside Opaque Liquid Containers using Speckle Vibrometry</title>
    <style>
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            line-height: 1.5;
            color: #4a4a4a;
            font-size: 1em;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale; 
            margin: 0;
            padding: 0;
        }

        .construction-banner {
            background: #f8f9fa;
            color: #6c757d;
            text-align: center;
            padding: 10px 20px;
            font-weight: 500;
            font-size: 1.5em;
            border-bottom: 1px solid #dee2e6; 
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        
        body {
            padding-top: 50px; /* Add space for the fixed banner */
        }
        
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .title {
            font-family: helvetica, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3.0em;
            font-weight: bold;
            color: #4a4a4a;
        }
        
        .subtitle {
            font-family: helvetica, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.3em;
            font-weight: bold;
            color: #4a4a4a;
            margin-top: 1.2em;
            margin-bottom: -0.2em;
        }
        
        
        .authors {
            font-size: 1.5em;
        }
        
        .authors a {
            color: #209cee;
            text-decoration: none;
        }
        
        .authors a:hover {
            text-decoration: underline;
        }
        
        .affiliation {
            font-size: 1.5em;
        }
        
        .conference {            
            font-size: 1.7em;
            margin-bottom: 25px;
        }
        
        .publication-links {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .link-block {
            display: inline-block;
        }
        
        .external-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #363636;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            transition: background-color 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .external-link:hover {
            background: #4a4a4a;
            color: white;
        }
        
        .external-link .icon {
            width: 22px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .external-link .icon svg {
            width: 25px;
            height: 18px;
            fill: currentColor;
        }

        .external-link-model {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #363636;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            transition: background-color 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .external-link-model:hover {
            background: #4a4a4a;
            color: white;
        }
        
        .external-link-model .icon {
            width: 22px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .external-link-model .icon svg {
            width: 25px;
            height: 18px;
            fill: currentColor;
        }
        
        .teaser-image {
            text-align: center;
            margin: 40px 0;
        }
        
        .teaser-image img {
            max-width: 55%;
            height: auto;
            border-radius: 8px;
        }

        .fill-level-image {
          position: relative;
          max-width: 100%;
          width: 75%;
          margin: auto;
        }
        
        .fill-level-image img {
          display: block;
          width: 100%;
          height: auto;
        }
        
        .system-image {
          position: relative;
          max-width: 100%;
          width: 80%;
          margin: auto;
        }
        
        .system-image img {
          display: block;
          width: 100%;
          height: auto;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            font-size: 1.8em;
            font-weight: normal;
            margin-bottom: 20px;
            color: #333;
        }
        
        .publication-title {
            font-size: 1.1em;
            font-weight: 500;
            margin-bottom: 10px;
            color: #333;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .btn {
            padding: 8px 16px;
            background: #333;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        
        .btn:hover {
            background: #555;
        }
        
        .abstract-box {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-size: 1em;
            line-height: 1.7;
            text-align: justify;
        }
        
        .results-box {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .results-box ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .results-box li {
            margin-bottom: 8px;
            font-size: 1em;
        }

/*         .full-width-image {
            width: 140%;
            max-width: 140%;
            margin-left: -20%;
            margin-right: -20%;
            display: block;
        } */

        .full-width-image {
            width: 100%;
            max-width: 100%;
            display: block;
        }
        
        .method-image {
            text-align: center;
            margin: 30px 0;
        }
        
        .method-image img {
            max-width: 100%;
            height: auto;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .demo-item {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .demo-placeholder {
            width: 100%;
            height: 150px;
            background: #e9ecef;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            color: #666;
            font-size: 0.9em;
        }
        
        .demo-caption {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }
        
        p {
            font-size: 1em;
            text-align: justify;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .bibtex-container {
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #333;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background-color 0.2s;
        }
        
        .copy-button:hover {
            background: #555;
        }
        
        .copy-button.copied {
            background: #28a745;
        }

        .pushable {
            background: hsl(0deg 0% 60%);
            border-radius: 50px;
            border: none;
            padding: 0;
            cursor: pointer;
            outline-offset: 4px;
            position: absolute;
            bottom: -55px;
            transform: translateX(-50%);
        }
        
        .front {
            display: block;
            padding: 6px 20px;
            border-radius: 50px;
            font-size: 1.25rem;
            background: hsl(0deg 0% 90%);
            color:  hsl(0deg 0% 50%);
            transform: translateY(-6px);
        }
        
        .pushable:active .front {
            transform: translateY(-2px);
        }
        
        .pushable.playing .front {
            transform: translateY(-2px);
        }
        
        /* Rotary volume control */
        .controller-row {
            display: flex;
            gap: 28px;
            align-items: flex-start;
        }

        .volume-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            margin-left: 48px; /* move right to allow pulling to OFF */
            user-select: none;
        }

        .rotary-wrapper {
            position: relative;
            width: 120px;
            height: 120px;
            cursor: default;
        }

        .rotary-knob {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 92px;
            height: 92px;
            transform: translate(-50%, -50%); /* keep lighting static */
            border-radius: 50%;
            background: radial-gradient(65% 65% at 30% 30%, #1a1a1a 0%, #0f0f0f 60%, #000 100%);
            box-shadow: inset 0 2px 6px rgba(255,255,255,0.06), inset 0 -8px 16px rgba(0,0,0,0.8), 0 6px 18px rgba(0,0,0,0.3);
            border: 1px solid #0c0c0c;
        }

        .rotary-wrapper:hover { cursor: pointer; }
        .rotary-wrapper.dragging { cursor: grabbing; }
        .rotary-wrapper:active { cursor: grabbing; }

        .rotary-knob::before {
            content: "";
            position: absolute;
            inset: 10px;
            border-radius: 50%;
            background: radial-gradient(60% 60% at 30% 30%, #222 0%, #111 60%, #0a0a0a 100%);
        }

        .rotary-angle {
            position: absolute;
            inset: 0;
        }

        .rotary-indicator {
            position: absolute;
            top: 14px;
            left: 50%;
            width: 3px;
            height: 24px;
            transform: translateX(-50%);
            background: linear-gradient(180deg, #e8e8e8 0%, #cfcfcf 100%);
            border-radius: 2px;
            box-shadow: 0 0 2px rgba(255,255,255,0.2);
        }

        .ticks {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 120px;
            height: 120px;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .tick {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 3px;
            height: 12px;
            background: #d9d9d9; /* light gray for not reached */
            border-radius: 2px;
            opacity: 0.9;
            box-shadow: 0 0 0.5px rgba(255,255,255,0.15);
        }

        .tick.active { 
            background: #5e5e5e; /* darker gray for reached */
        }

        .volume-readout {
            display: flex;
            flex-direction: column;
            gap: 6px;
            align-items: center;
        }

        .volume-readout .title {
            font-size: 0.95em;
            font-weight: 600;
            margin: 0;
            color: #333;
            text-align: center;
        }

        .volume-label {
            display: inline-block;
            min-width: 44px;
            padding: 2px 8px;
            border-radius: 12px;
            background: #111;
            color: #f0f0f0;
            font-variant-numeric: tabular-nums;
            text-align: center;
            font-weight: 600;
            letter-spacing: 0.5px;
            cursor: pointer;
            outline: none;
        }

        .volume-label:hover { filter: brightness(1.08); }
        .volume-label:focus { box-shadow: 0 0 0 2px rgba(33,150,243,0.35); }

        /* Interactive hint: hand-grip icon following an arc, hidden on interaction */
        .hint-hand {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 34px;
            height: 34px;
            opacity: 0.0; /* start hidden; fade in for demo */
            transition: opacity 300ms ease;
            pointer-events: none;
            transform: translate(-50%, -50%);
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
        }

        .hint-hand.visible { opacity: 0.95; }

        /* Signal panel */
        .signal-panel {
            flex: 1 1 480px;
            min-width: 380px;
            max-width: 620px;
        }

        .signal-title {
            font-size: 0.95em;
            font-weight: 600;
            margin: 0 0 6px;
            color: #333;
        }

        .signal-card {
            background: #ffffff;
            border: 1px solid #e5e5e5;
            border-radius: 10px;
            padding: 12px 12px 8px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.06);
        }

        .signal-canvas-wrap {
            position: relative;
            width: 100%;
            height: 160px;
            border-radius: 8px;
            overflow: hidden;
            background: linear-gradient(180deg, #fafafa 0%, #f7f7f7 100%);
            border: 1px solid #ececec;
        }

        .signal-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .signal-meta {
            margin-top: 8px;
            font-size: 0.9em;
            color: #555;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .title {
                font-size: 1.8em;
            }
            
            .authors a {
                margin-right: 10px;
            }
            
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .publication-links {
                gap: 8px;
            }
            
            .external-link {
                padding: 8px 12px;
                font-size: 0.85em;
            }

            .external-link-model {
                padding: 8px 12px;
                font-size: 0.85em;
            }

            .full-width-image {
                width: 120%;
                margin-left: -10%;
                margin-right: -10%;
            }
        }
    </style>
    <script>
        function toggleAudio(audioId, button) {
            const audio = document.getElementById(audioId);
            
            if (audio.paused) {
                // Start playing
                audio.play();
                button.classList.add('playing');
                
                // Remove the class when audio ends
                audio.addEventListener('ended', function() {
                    button.classList.remove('playing');
                }, { once: true });
                
            } else {
                // Stop playing
                audio.pause();
                audio.currentTime = 0;
                button.classList.remove('playing');
            }
        }
        
        function copyBibTeX(button) {
            const bibtexText = document.getElementById('bibtex-text').textContent;
            
            // Use the modern Clipboard API if available
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(bibtexText).then(function() {
                    // Show success feedback
                    const originalText = button.textContent;
                    button.textContent = 'Copied!';
                    button.classList.add('copied');
                    
                    setTimeout(function() {
                        button.textContent = originalText;
                        button.classList.remove('copied');
                    }, 2000);
                }).catch(function(err) {
                    console.error('Failed to copy text: ', err);
                    fallbackCopy(bibtexText, button);
                });
            } else {
                // Fallback for older browsers or non-secure contexts
                fallbackCopy(bibtexText, button);
            }
        }
        
        function fallbackCopy(text, button) {
            // Create a temporary textarea element
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                // Show success feedback
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(function() {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            } catch (err) {
                console.error('Fallback copy failed: ', err);
                button.textContent = 'Copy failed';
                setTimeout(function() {
                    button.textContent = 'Copy';
                }, 2000);
            } finally {
                document.body.removeChild(textArea);
            }
        }

        // Rotary knob logic
        document.addEventListener('DOMContentLoaded', function() {
            const wrapper = document.getElementById('volumeKnob');
            if (!wrapper) return;

            const knob = wrapper.querySelector('.rotary-knob');
            const angleLayer = knob.querySelector('.rotary-angle');
            const ticksContainer = wrapper.querySelector('.ticks');
            const labelEl = document.getElementById('volumeLabel');
            const hintHand = document.getElementById('hintHand');

            const MIN_ANGLE = -120; // degrees
            const MAX_ANGLE = 120;  // degrees
            const NUM_LEVELS = 12;  // 0..11
            const STEP_DEG = (MAX_ANGLE - MIN_ANGLE) / (NUM_LEVELS - 1);

            // Generate ticks on a not-full circle arc
            for (let i = 0; i < NUM_LEVELS; i++) {
                const angle = MIN_ANGLE + i * STEP_DEG;
                const tick = document.createElement('div');
                tick.className = 'tick';
                tick.style.transform = `translate(-50%, -50%) rotate(${angle}deg) translate(0, -56px)`;
                ticksContainer.appendChild(tick);
            }

            function setLevel(level) {
                const clamped = Math.max(0, Math.min(NUM_LEVELS - 1, level));
                const angle = MIN_ANGLE + clamped * STEP_DEG;
                // Rotate only the indicator layer; keep knob lighting static
                angleLayer.style.transform = `rotate(${angle}deg)`;

                // Update ticks highlight
                const ticks = ticksContainer.querySelectorAll('.tick');
                ticks.forEach((t, idx) => {
                    if (idx <= clamped) t.classList.add('active');
                    else t.classList.remove('active');
                });

                // Update label: OFF, 4 dB, 8 dB, ...
                const db = clamped * 4;
                labelEl.textContent = clamped === 0 ? 'OFF' : `${db} dB`;

                // Set global audio volume
                const volume = clamped / (NUM_LEVELS - 1);
                document.querySelectorAll('audio').forEach(a => {
                    try { a.volume = volume; } catch(e) {}
                });

                // a11y
                wrapper.setAttribute('aria-valuenow', String(clamped));
                wrapper.setAttribute('aria-valuetext', clamped === 0 ? 'OFF' : `${db} dB`);

                wrapper.dataset.level = String(clamped);

                // Update signal rendering state
                updateSignalTarget(db);
            }

            function angleToLevel(angleDeg) {
                const clampedAngle = Math.max(MIN_ANGLE, Math.min(MAX_ANGLE, angleDeg));
                const raw = (clampedAngle - MIN_ANGLE) / STEP_DEG;
                // Make the first bin (OFF) slightly larger for easier access
                // If we're within half-a-step of MIN_ANGLE, snap to 0
                if (clampedAngle <= MIN_ANGLE + STEP_DEG * 0.6) return 0;
                return Math.round(raw);
            }

            function clientToAngle(clientX, clientY) {
                const rect = wrapper.getBoundingClientRect();
                const cx = rect.left + rect.width / 2;
                const cy = rect.top + rect.height / 2;
                const dx = clientX - cx;
                const dy = clientY - cy;
                // Base angle: 0 at +X; shift so 12 o'clock is 0 deg
                let deg = Math.atan2(dy, dx) * 180 / Math.PI + 90;
                // Normalize to [-180, 180] so negative angles are reachable (left side)
                if (deg > 180) deg -= 360;
                if (deg < -180) deg += 360;
                return deg;
            }

            let dragging = false;
            let pointerDownInside = false;

            function onPointerDown(e) {
                dragging = true;
                pointerDownInside = true;
                wrapper.classList.add('dragging');
                wrapper.setPointerCapture?.(e.pointerId);
                const angle = clientToAngle(e.clientX, e.clientY);
                // If user starts at far-left above OFF threshold, snap to OFF
                const tentative = angleToLevel(angle);
                if (tentative === 1 && angle < MIN_ANGLE + STEP_DEG * 0.3) {
                    setLevel(0);
                } else {
                    setLevel(tentative);
                }
                e.preventDefault();
                // Hide hint once interacted
                hintHand?.classList.remove('visible');
            }

            function onPointerMove(e) {
                if (!dragging) return;
                const angle = clientToAngle(e.clientX, e.clientY);
                setLevel(angleToLevel(angle));
            }

            function onPointerUp(e) {
                dragging = false;
                pointerDownInside = false;
                wrapper.classList.remove('dragging');
                wrapper.releasePointerCapture?.(e.pointerId);
            }

            // Click/drag support
            wrapper.addEventListener('pointerdown', onPointerDown);
            window.addEventListener('pointermove', onPointerMove);
            window.addEventListener('pointerup', onPointerUp);

            // Keyboard support
            wrapper.addEventListener('keydown', (e) => {
                const current = Number(wrapper.dataset.level || '0');
                if (e.key === 'ArrowRight' || e.key === 'ArrowUp') {
                    setLevel(current + 1);
                    e.preventDefault();
                } else if (e.key === 'ArrowLeft' || e.key === 'ArrowDown') {
                    setLevel(current - 1);
                    e.preventDefault();
                } else if (e.key.toLowerCase() === 'o') { // quick OFF
                    setLevel(0);
                    e.preventDefault();
                }
                hintHand?.classList.remove('visible');
            });

            // Toggle OFF/4 dB on counter click to avoid confusion when clicking OFF
            labelEl.addEventListener('click', () => {
                const current = Number(wrapper.dataset.level || '0');
                if (current === 0) setLevel(1); // OFF -> 4 dB
                else setLevel(0);               // any -> OFF
                hintHand?.classList.remove('visible');
            });

            // Initialize OFF and ensure label reads OFF
            setLevel(0);

            // Show a short animated hint: move along the arc continuously (fwd -> back -> fwd -> back)
            let hintRunning = false;
            let hintRafId = 0;
            function animateHint() {
                if (!hintHand) return;
                if (hintRunning) return; // prevent duplicate runs
                hintRunning = true;
                const R1 = 78; // slightly bigger radius
                const startDeg = MIN_ANGLE + STEP_DEG * 2;
                const endDeg = startDeg + STEP_DEG * 3;
                const baseDur = 1400; // original
                const totalDur = baseDur * 4; // forward -> back -> forward -> back

                // Place at exact start BEFORE showing to avoid popping at end
                (function positionAt(deg){
                    const rad0 = (deg - 90) * Math.PI / 180;
                    const x0 = Math.cos(rad0) * R1;
                    const y0 = Math.sin(rad0) * R1;
                    hintHand.style.transform = `translate(-50%, -50%) translate(${x0}px, ${y0}px)`;
                })(startDeg);

                hintHand.classList.add('visible');
                const startTime = performance.now();

                function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

                function frame(now) {
                    // Clamp slightly below 1 to keep final segment math in-range
                    const p = Math.min(0.999, (now - startTime) / totalDur);
                    const segFloat = p * 4; // 4 segments
                    const seg = Math.floor(segFloat);
                    const localT = segFloat - seg; // 0..1 within segment
                    const eased = easeOutCubic(localT); // slow down at the end

                    let deg;
                    if (seg === 0) {
                        // forward
                        deg = startDeg + (endDeg - startDeg) * eased;
                    } else if (seg === 1) {
                        // back
                        deg = endDeg + (startDeg - endDeg) * eased;
                    } else if (seg === 2) {
                        // forward again
                        deg = startDeg + (endDeg - startDeg) * eased;
                    } else {
                        // back to start at end
                        deg = endDeg + (startDeg - endDeg) * eased;
                    }

                    const rad = (deg - 90) * Math.PI / 180;
                    const x = Math.cos(rad) * R1;
                    const y = Math.sin(rad) * R1;
                    hintHand.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px)`;

                    if (p < 0.999 && hintRunning) {
                        hintRafId = requestAnimationFrame(frame);
                    } else {
                        hintRunning = false;
                        // Snap to the true final position (startDeg) and fade without moving
                        (function positionAt(deg){
                            const rad0 = (deg - 90) * Math.PI / 180;
                            const x0 = Math.cos(rad0) * R1;
                            const y0 = Math.sin(rad0) * R1;
                            hintHand.style.transform = `translate(-50%, -50%) translate(${x0}px, ${y0}px)`;
                        })(startDeg);
                        setTimeout(() => hintHand.classList.remove('visible'), 500);
                    }
                }

                hintRafId = requestAnimationFrame(frame);
            }

            // Trigger the hint shortly after load
            setTimeout(animateHint, 900);

            // ---------------- Signal rendering -----------------
            const thdMap = {
                44: { thd: 25.85, f: 422.0 },
                40: { thd: 23.04, f: 422.0 },
                36: { thd: 19.27, f: 422.0 },
                32: { thd: 15.5,  f: 422.0 },
                28: { thd: 11.85, f: 422.0 },
                24: { thd: 8.203, f: 422.0 },
                20: { thd: 3.125, f: 422.0 },
                16: { thd: -1.554, f: 422.0 },
                12: { thd: -5.517, f: 422.0 },
                8:  { thd: -6.988, f: 422.0 },
                4:  { thd: -14.11, f: 422.0 },
                0:  { thd: -29.18, f: 422.0 }
            };

            const canvas = document.getElementById('signalCanvas');
            const metaEl = document.getElementById('signalMeta');
            const ctx = canvas.getContext('2d');

            let devicePixelRatioCached = window.devicePixelRatio || 1;
            function resizeCanvas() {
                const rect = canvas.getBoundingClientRect();
                const dpr = window.devicePixelRatio || 1;
                if (canvas.width !== Math.floor(rect.width * dpr) || canvas.height !== Math.floor(rect.height * dpr)) {
                    canvas.width = Math.floor(rect.width * dpr);
                    canvas.height = Math.floor(rect.height * dpr);
                }
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            // WebAudio approach using hidden <audio> tags + AnalyserNode
            const dBLevels = [0,4,8,12,16,20,24,28,32,36,40,44];
            const audioEls = {};  // db -> HTMLAudioElement
            const analysers = {}; // db -> AnalyserNode
            let audioCtx;
            let audioReady = false;

            function initAudioGraph() {
                if (audioCtx) return;
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                dBLevels.forEach(db => {
                    const el = document.getElementById(`snr${db}`);
                    if (!el) return;
                    const src = audioCtx.createMediaElementSource(el);
                    const analyser = audioCtx.createAnalyser();
                    analyser.fftSize = 2048;
                    src.connect(analyser);
                    // not connecting to destination keeps it silent
                    audioEls[db] = el;
                    analysers[db] = analyser;
                    el.muted = true;
                    el.loop = true;
                    // best-effort autoplay; some browsers require gesture
                    el.play().catch(()=>{});
                });
                audioReady = true;
            }
            initAudioGraph();

            // Signal state
            let currentDbTarget = 0; // 0..44 in steps of 4
            let lastTimestamp = performance.now();
            let rAF;

            function updateSignalTarget(db) {
                if (typeof db !== 'number') db = 0;
                if (db < 0) db = 0;
                if (db > 44) db = 44;
                // Snap to nearest multiple of 4
                currentDbTarget = Math.round(db / 4) * 4;
                const info = thdMap[currentDbTarget] || thdMap[0];
                metaEl.textContent = `SNR: ${currentDbTarget} dB | THD: ${info.thd} | f = ${info.f} Hz`;
            }

            // Streaming renderer: draws entire width from active analyser each frame
            function render(now) {
                const dt = Math.min(0.05, (now - lastTimestamp) / 1000);
                lastTimestamp = now;

                const rect = canvas.getBoundingClientRect();
                const width = Math.floor(rect.width);
                const height = Math.floor(rect.height);

                // Background
                ctx.clearRect(0, 0, width, height);
                ctx.save();
                ctx.strokeStyle = '#eee';
                ctx.lineWidth = 1;
                for (let x = 0; x < width; x += 40) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                }
                for (let y = 0; y < height; y += 32) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y);
                    ctx.stroke();
                }
                ctx.restore();

                const baseline = height / 2;
                const scaleY = height * 0.45;

                // Ensure audio context is running; try to start current element
                if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume().catch(()=>{});
                const currentEl = document.getElementById(`snr${currentDbTarget}`);
                if (currentEl && currentEl.paused) currentEl.play().catch(()=>{});

                const analyser = analysers[currentDbTarget];
                const N = (analyser && analyser.fftSize) || 2048;
                const timeData = new Float32Array(N);
                if (analyser) analyser.getFloatTimeDomainData(timeData);

                ctx.beginPath();
                ctx.lineWidth = 2;
                ctx.strokeStyle = '#2b6cb0';
                for (let x = 0; x < width; x++) {
                    let s = 0;
                    if (analyser) {
                        const i = Math.floor((x / width) * (N - 1));
                        s = timeData[i];
                    } else {
                        s = (Math.random() - 0.5) * 0.6; // fallback so panel isn't empty
                    }
                    const y = baseline - s * scaleY;
                    if (x === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
                }
                ctx.stroke();

                rAF = requestAnimationFrame(render);
            }

            updateSignalTarget(0);
            rAF = requestAnimationFrame(render);
        });
    </script>
</head>
    <body>
    <div class="construction-banner">
        <span>ðŸš§ This site is currently under construction ðŸš§</span>
    </div>
    <div class="container">
        <div class="header">
            <h1 class="title">Learning to See Inside Opaque Liquid Containers using Speckle Vibrometry</h1>
            <div class="authors">
                <a href="https://matankic.github.io">Matan Kichler</a>, 
                <a href="https://www.weizmann.ac.il/math/bagon/home">Shai Bagon</a>, 
                <a href="https://www.marksheinin.com/about">Mark Sheinin</a>
            </div>
            <div class="affiliation">Weizmann Institute of Science</div>
            <br>
            <div class="conference">ICCV 2025</div>
            
            <div class="publication-links">
                <span class="link-block">
                    <a href="https://arxiv.org/pdf/2507.20757" class="external-link" target="_blank">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                <path fill="currentColor" d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"></path>
                            </svg>
                        </span>
                        <span>Paper</span>
                    </a>
                </span>
                
                <span class="link-block">
                    <a href="https://raw.githubusercontent.com/matankic/matankic.github.io/main/see_inside_containers/files/2025244494.pdf" class="external-link" target="_blank">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                <path fill="currentColor" d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"></path>
                            </svg>
                        </span>
                        <span>Supp</span>
                    </a>
                </span>
                
                <span class="link-block">
                    <a href="#TalkVideo" class="external-link" style="background-color:#e3e3e3;">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                <path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path>
                            </svg>
                        </span>
                        <span>Video</span>
                    </a>
                </span>
                
                <span class="link-block">
                    <a href="https://github.com/matankic/Learning-to-See-Inside-Opaque-Liquid-Containers-using-Speckle-Vibrometry" class="external-link" style="background-color:#e3e3e3;">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
                                <path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
                            </svg>
                        </span>
                        <span>Code</span>
                    </a>
                </span>

                <span class="link-block">
                    <a href="#" class="external-link" target="_blank" style="background-color:#e3e3e3;">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76.594292 98.560303">
                                <g transform="translate(384.93568,-116.20738)">
                                    <path fill="currentColor" d="m -309.7763,155.26146 a 38.296535,13.343443 0 0 1 -36.86235,9.79156 38.296535,13.343443 0 0 1 -36.86235,-9.79073 38.296535,13.343443 0 0 0 -1.43247,3.54089 h -0.002 v 0.0104 12.13034 0.001 a 38.296535,13.343443 0 0 0 5.2e-4,0 38.296535,13.343443 0 0 0 38.29637,13.34167 38.296535,13.343443 0 0 0 38.29585,-13.34167 h 0.001 v -12.14291 h -0.001 a 38.296535,13.343443 0 0 0 -1.4335,-3.54172 z" />
                                    <path fill="currentColor" d="m -346.63879,116.20738 a 38.296535,10.254843 0 0 0 -38.29482,10.2464 h -0.002 v 0.006 a 38.296535,10.254843 0 0 0 -5.2e-4,0.002 38.296535,10.254843 0 0 0 5.2e-4,0.002 v 1.85828 h -5.2e-4 v 0.0103 12.13052 10e-4 a 38.296535,13.343443 0 0 0 5.2e-4,0 38.296535,13.343443 0 0 0 38.29637,13.34131 38.296535,13.343443 0 0 0 38.29585,-13.34131 h 10e-4 v -4.67775 h 5.1e-4 v -9.33276 h -0.002 a 38.296535,10.254843 0 0 0 -38.29585,-10.2464 z" />
                                    <path fill="currentColor" d="m -309.7763,185.74128 a 38.296535,13.343443 0 0 1 -36.86235,9.79156 38.296535,13.343443 0 0 1 -36.86235,-9.79071 38.296535,13.343443 0 0 0 -1.43247,3.54086 h -0.002 v 0.0117 12.13033 0.001 a 38.296535,13.343443 0 0 0 5.2e-4,0 38.296535,13.343443 0 0 0 38.29637,13.34166 38.296535,13.343443 0 0 0 38.29585,-13.34166 h 0.001 v -12.14293 h -0.001 a 38.296535,13.343443 0 0 0 -1.4335,-3.54171 z" />
                                </g>
                            </svg>
                        </span>
                        <span>Data</span>
                    </a>
                </span>

                <span class="link-block">
                    <a href="#" class="external-link-model" target="_blank" style="background-color:#e3e3e3;">
                        <span class="icon model-icon">
                            <svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 152.95038 126.03777">
                                <g transform="translate(-519.46653,-78.899929)">
                                    <circle style="fill:currentColor" cx="532.88135" cy="171.20122" r="13.414822" />
                                    <circle style="fill:currentColor" cx="532.88135" cy="111.99635" r="13.414822" />
                                    <circle style="fill:currentColor" cx="659.00208" cy="171.20122" r="13.414822" />
                                    <circle style="fill:currentColor" cx="659.00208" cy="111.99635" r="13.414822" />
                                    <circle style="fill:currentColor" cx="595.5799" cy="191.52287" r="13.414822" />
                                    <circle style="fill:currentColor" cx="595.5799" cy="141.91881" r="13.414822" />
                                    <circle style="fill:currentColor" cx="595.5799" cy="92.314751" r="13.414822" />
                                    <path style="fill:currentColor" d="m 574.18467,72.271489 -38.06463,21.974604 c 0.348,1.70825 0.53756,3.481909 0.53756,5.30396 0,2.900167 -0.466,5.683237 -1.3185,8.262777 l 23.97636,15.50696 -7.45434,12.01737 -16.7226,-26.95951 c -0.86951,2.43767 -2.0842,4.68364 -3.58241,6.66085 l 16.4478,26.51684 -16.72461,26.96247 c 1.51869,1.92782 2.7699,4.11976 3.67936,6.50985 l 16.9038,-27.25192 8.21321,13.24102 -24.50188,15.846 c 0.70013,2.36246 1.08381,4.88157 1.08381,7.49809 0,2.11287 -0.24896,4.1623 -0.71274,6.1175 l 38.23981,22.0775 c 0.0835,-2.45449 0.50006,-4.81589 1.2015,-7.03246 l -37.71562,-21.77548 26.22689,-16.56997 17.55636,28.30457 c 1.57934,-1.56441 3.36496,-2.87643 5.30475,-3.8834 l -17.31967,-27.92259 9.60726,-6.06939 c -1.44962,-1.97502 -2.62239,-4.20768 -3.45538,-6.62384 l -10.00976,6.47357 -9.86133,-15.8993 9.10313,-14.67638 10.76729,6.96362 c 0.83291,-2.41648 2.00566,-4.6487 3.45538,-6.62385 L 568.676,120.66966 585.96692,92.794444 c -1.89998,-1.092624 -3.63726,-2.484706 -5.161,-4.121024 l -17.67404,28.49333 -25.462,-16.08658 37.71629,-21.775475 c -0.70151,-2.216786 -1.11808,-4.578422 -1.2015,-7.033206 z m 43.57331,0.07625 c -0.0902,2.452084 -0.51325,4.810447 -1.22021,7.023583 l 37.60129,21.709588 -24.84956,15.70016 -17.81511,-28.471854 c -1.4931,1.673283 -3.20318,3.108982 -5.08077,4.246129 l 17.3511,27.729375 -10.88698,6.87849 c 1.45489,1.96997 2.63194,4.19869 3.47143,6.61126 l 11.28814,-7.30044 10.02514,16.02218 -9.95226,15.90448 -11.36169,-7.34782 c -0.83958,2.41261 -2.01652,4.64198 -3.47143,6.612 l 10.96053,6.92513 -17.3511,27.72938 c 1.87396,1.14539 3.57966,2.58792 5.06739,4.26834 l 17.82983,-28.49407 24.77534,15.65352 -37.60129,21.7096 c 0.70689,2.21288 1.12993,4.57101 1.22021,7.02284 l 39.05819,-22.54979 c -0.38405,-1.78956 -0.59372,-3.65224 -0.59372,-5.56897 0,-2.40187 0.32394,-4.72183 0.918,-6.91403 l -23.94092,-15.48326 8.31216,-13.28322 16.43911,26.27107 c 0.91382,-2.37825 2.16677,-4.55889 3.68471,-6.47653 l -16.25457,-25.97793 16.63702,-26.58716 c -1.54724,-1.85475 -2.83297,-3.97817 -3.79904,-6.29739 l -16.7079,26.70042 -8.38503,-13.40092 24.23844,-15.67573 c -0.73645,-2.41667 -1.14198,-4.99988 -1.14198,-7.686113 0,-1.625152 0.14867,-3.213035 0.42724,-4.749505 z" transform="matrix(0.77289354,0,0,0.69808532,134.95676,42.501834)" />
                                </g>
                            </svg>
                        </span>
                        <span>Model</span>
                    </a>
                </span>
                
                <span class="link-block">
                    <a href="#BibTeX" class="external-link">
                        <span class="icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fa" data-icon="quote-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"></path>
                            </svg>
                        </span>
                        <span>BibTeX</span>
                    </a>
                </span>
            </div>
        </div>

        <div class="teaser-image">
            <img src="images/figure_opening.png" alt="System overview showing speckle vibrometry setup for liquid level detection" />
        </div>


        <div class="section">
            <div class="controller-row">
                <div class="volume-control" aria-hidden="false">
                    <div class="rotary-wrapper" id="volumeKnob" role="slider" aria-label="Speaker volume" aria-valuemin="0" aria-valuemax="11" aria-valuenow="0" tabindex="0">
                        <div class="ticks"></div>
                        <div class="rotary-knob">
                            <div class="rotary-angle" style="transform: rotate(-120deg);">
                                <div class="rotary-indicator"></div>
                            </div>
                        </div>
                        <!-- hint hand icon -->
                        <svg class="hint-hand" id="hintHand" viewBox="0 0 64 64" aria-hidden="true">
                            <path fill="#ffffff" stroke="#bbb" d="M20 30v-8a4 4 0 0 1 8 0v8h2v-10a4 4 0 0 1 8 0v10h2v-8a4 4 0 0 1 8 0v16c0 7-5 12-12 12h-6c-7 0-12-5-12-12v-8z"/>
                            <circle cx="26" cy="50" r="2" fill="#bbb"/>
                        </svg>
                    </div>
                    <div class="volume-readout">
                        <div class="title">Speaker Volume</div>
                        <button class="volume-label" id="volumeLabel" type="button" aria-live="polite">OFF</button>
                    </div>
                </div>

                <div class="signal-panel">
                    <div class="signal-title">Recovered signal from vibrations</div>
                    <div class="signal-card">
                        <div class="signal-canvas-wrap">
                            <canvas id="signalCanvas" class="signal-canvas"></canvas>
                        </div>
                        <div class="signal-meta" id="signalMeta">SNR: 0 dB | THD: -29.18 | f = 422.0 Hz</div>
                    </div>
                    <!-- hidden audio sources for SNR experiment -->
                    <audio id="snr0"  src="SNR_experiment/0dB.wav"  muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr4"  src="SNR_experiment/4dB.wav"  muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr8"  src="SNR_experiment/8dB.wav"  muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr12" src="SNR_experiment/12dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr16" src="SNR_experiment/16dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr20" src="SNR_experiment/20dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr24" src="SNR_experiment/24dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr28" src="SNR_experiment/28dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr32" src="SNR_experiment/32dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr36" src="SNR_experiment/36dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr40" src="SNR_experiment/40dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                    <audio id="snr44" src="SNR_experiment/44dB.wav" muted autoplay loop preload="auto" playsinline crossorigin="anonymous" style="display:none"></audio>
                </div>
            </div>

            <h1 class="subtitle">Can you hear the contents of a Coke bottle?</h1>
            <p><b>TL;DR:</b> Yes, we can! (and by â€œwe,â€ we mean a novel AI model). We accomplish this by sensing the tiny vibrations on the bottleâ€™s surface and relating them to the bottleâ€™s liquid level and type (i.e., Coke bottle, milk carton, etc.).</p>

            <h1 class="subtitle">Iâ€™m intriguedâ€”tell me (a little) more?</h1>
            <p>First, we must capture these tiny surface vibrations at high speeds. To achieve this, we develop a novel computational imaging system that can capture object vibrations remotely for a 2D grid of scene points. </p>
            <p>We use our system to sense the vibrations of multiple scene containers at once, while we "excite" the vibrations using a nearby speaker by playing some <span onclick="toggleAudio('neveerGonnaGiveYouUp', this)" style="color: #209cee; font-weight:bold; cursor: pointer;">sound</span>.</p>
            <div style="height: 20px;"></div>
            
            <div class="system-image">
                <img src="images/system.png" alt="system overview" />
                <p style="position: absolute; left: 19%; margin-top: 5px; font-weight:bold;">capturing six containers</p>
                <p style="position: absolute; left: 74%; margin-top: 5px; font-weight:bold;">camera system</p>
            </div>
            
            <div style="height: 40px;"></div>
            
            <p>For each container, we measure two-axis vibrations at multiple surface points (three points in the figure above). We input the vibrations into a novel physics-inspired Vibration Transformer, which is trained to predict the container type and its hidden liquid level.</p>
            
            <div style="height: 20px;"></div>
            
            <img src="images/Architecture.png" alt="Vibration-Transformer architecture diagram" class="full-width-image" />

            <div style="height: 20px;"></div>
            
            <h1 class="subtitle">So why do you need an AI model for this task?</h1>
            <p>The relationship between the vibration response of everyday containers to their fill level is actually quite complex. Donâ€™t believe us? Try for yourself. Press below the containers to hear their response for different fill levels. Can you spot a pattern?</p>
            
            <div class="fill-level-image">
                <img src="images/fill_levels.png" alt="Fill-level bottles" />

                <button class="pushable" style="left:7.5%" onclick="toggleAudio('audio0', this)">
                    <span class="front">â–¶</span>
                </button>
                <button class="pushable" style="left:24%" onclick="toggleAudio('audio1', this)">
                    <span class="front">â–¶</span>
                </button>
                <button class="pushable" style="left:40.5%" onclick="toggleAudio('audio2', this)">
                    <span class="front">â–¶</span>
                </button>
                <button class="pushable" style="left:57%" onclick="toggleAudio('audio3', this)">
                    <span class="front">â–¶</span>
                </button>
                <button class="pushable" style="left:73.5%" onclick="toggleAudio('audio4', this)">
                    <span class="front">â–¶</span>
                </button>
                <button class="pushable" style="left:90%" onclick="toggleAudio('audio5', this)">
                    <span class="front">â–¶</span>
                </button>
            </div>
            
            <div style="height: 60px;"></div>

            <p>If you couldnâ€™t, donâ€™t blame yourself. The vibrational response depends on various factors, including object geometry, materials, fluid-structure interactions, and additional factors. Luckily, our Vibration Transformer has a more acute â€œearâ€ than you, and can successfully classify the containerâ€™s hidden liquid level for a variety of containers (which we demonstrate experimentally).</p>
            
            <p>Moreover, our architecture is robust to the vibration source, yielding correct liquid level estimates for controlled and ambient scene sound sources. And, our model generalizes to unseen container instances within known classes (e.g., training on five Coke cans of a six-pack, testing on a sixth) and fluid levels.</p>
            
            <h1 class="subtitle" style="color:red">Full details coming soon.</h1>
            
            <!-- hidden audio elements anywhere in the body: -->
            <audio id="neveerGonnaGiveYouUp" src="audios/neveerGonnaGiveYouUp.wav"></audio>

            
<!--             <audio id="wine_1" src="audios/wine_1.wav"></audio>
            <audio id="wine_2" src="audios/wine_2.wav"></audio> -->

            <!-- Never gonna -->
            <audio id="audio0" src="audios/never_level0.wav"></audio>
            <audio id="audio1" src="audios/never_level20.wav"></audio>
            <audio id="audio2" src="audios/never_level40.wav"></audio>
            <audio id="audio3" src="audios/never_level60.wav"></audio>
            <audio id="audio4" src="audios/never_level80.wav"></audio>
            <audio id="audio5" src="audios/never_level100.wav"></audio>
            
            <!-- Chirps -->
<!--             <audio id="audio0" src="audios/level0.mp3"></audio>
            <audio id="audio1" src="audios/level20.mp3"></audio>
            <audio id="audio2" src="audios/level40.mp3"></audio>
            <audio id="audio3" src="audios/level60.mp3"></audio>
            <audio id="audio4" src="audios/level80.mp3"></audio>
            <audio id="audio5" src="audios/level100.mp3"></audio> -->
        </div>

        
    <div class="section" id="BibTeX">
        <h2>BibTeX</h2>
        <div class="abstract-box bibtex-container">
            <button class="copy-button" onclick="copyBibTeX(this)">Copy</button>
            <pre id="bibtex-text" style="font-family: 'Courier New', monospace; font-size: 0.9em; line-height: 1.4; margin: 15px 0px auto; white-space: pre-wrap;">
@inproceedings{Kichler:2025,
    title={Learning to See Inside Opaque Liquid Containers using Speckle Vibrometry},
    author={Kichler, Matan and Bagon, Shai and Sheinin, Mark},
    booktitle={Proceedings of the IEEE/CVF International Conference on Computer Vision (ICCV)},
    year={2025}
}</pre>
        </div>
    </div>

<!--     <div class="section">
        <h2>Acknowledgements</h2>
        <p>This work was supported by the Weizmann Center for New Scientists, the Institute of AI, and the MBZUAI-WIS Joint Program (SB).</p>
    </div> -->
      
    </div>
</body>
</html>
